<div class="body">
    <div class="container">
        <div class="row">
            <div class="col">
                <nav aria-label="breadcrumb" class="breadcrumb-nav">
                    <div class="container">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item active">
                                <i class="ti-home" routerLink="/home" style="cursor: pointer;">&nbsp;Home</i>
                            </li>
                            <li class="breadcrumb-item active" style="padding-left: 0;">
                                <i class="ti-shopping-cart">&nbsp;Cart</i>
                            </li>
                        </ol>
                    </div>
                </nav>
                <main class="main">
                    <div class="container">
                        <div class="row">
                            <div class="col-9">
                                <!-- Tabla principal del carrito -->
                                <section class="table_header">
                                    <h3>Shopping Cart</h3>
                                </section>
                                <section class="table_body">
                                    <table *ngIf="quantities[0] >= 1">
                                        <thead>
                                            <tr>
                                                <th scope="col"></th>
                                                <th scope="col">Course</th>
                                                <th scope="col">Price</th>
                                                <th scope="col">Description</th>
                                                <th scope="col">Subtotal</th>
                                                <th scope="col"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let course of courses; let i = index">
                                                <td>
                                                    <strong>{{ i + 1 }}</strong>
                                                </td>
                                                <td>
                                                    <figure class="product-img">
                                                        <a [routerLink]="['/course-detail', course.id]">
                                                            <img src="{{ url + 'courses/image/' + course.image }}" alt="course">
                                                        </a>
                                                    </figure>
                                                </td>
                                                <td>${{ course.current_price }} USD</td>
                                                <td>{{ course.detail }}</td>
                                                <td>
                                                    <strong>${{ subtotals[i] }} USD</strong>
                                                </td>
                                                <td>
                                                    <a (click)="deleteCart(course.id)">
                                                        <i class="ti-trash"></i>
                                                    </a>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td colspan="6" class="text-center" *ngIf="quantities[0] || quantities[0] >= 1">
                                                    <a routerLink="/home" class="btn btn-outline-secondary">
                                                        Continue Shopping
                                                    </a>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </section>
                            </div>
                            <!-- Resumen de totales del carrito -->
                            <div class="col-3" *ngIf="quantities[0] || quantities[0] >= 1">
                                <section class="table_header">
                                    <h3>Order Summary</h3>
                                </section>
                                <section class="table_body">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Detail</th>
                                                <th>Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Discount</td>
                                                <td>$0.00 USD</td>
                                            </tr>
                                            <tr>
                                                <td>Subtotal</td>
                                                <td>${{ total }} USD</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>Total</th>
                                                <th>${{ total }} USD</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </section>
                            </div>
                            <hr>
                        </div>
                    </div>
                </main>
                <!-- Sección de métodos de pago -->
                <div class="payment-section" *ngIf="quantities[0] && quantities[0] > 0">
                    <h2>Payment Methods</h2>
                    <div class="row">
                        <div class="col">
                            <div class="accordion-alt">
                                <!-- Aquí irían tus opciones de pago -->
                            </div>
                        </div>
                    </div>
                    <!-- Botón de pago -->
                    <form #saleNew="ngForm" (ngSubmit)="onSubmit(saleNew)">
                        <input type="submit" value="Checkout" class="btn btn-primary btn-block" [disabled]="saleNew.invalid">
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>